"use strict";(self.webpackChunkdoeks_website=self.webpackChunkdoeks_website||[]).push([["7572"],{97757:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>i,default:()=>h,toc:()=>l,metadata:()=>r,assets:()=>c,contentTitle:()=>o});var r=JSON.parse('{"id":"benchmarks/spark-operator-benchmark/spark-operator-eks-benchmark","title":"Introduction to Spark Benchmarks on Amazon EKS \uD83D\uDE80","description":"This guide walks you through running Apache Spark benchmark tests on Amazon EKS, AWS\'s managed Kubernetes service. Benchmark tests help evaluate and optimize Spark workloads on EKS comparing benchmark results run across different EC2 instance families of Graviton instances, especially when scaling for performance, cost efficiency, and reliability.","source":"@site/docs/benchmarks/spark-operator-benchmark/spark-operator-eks-benchmark.md","sourceDirName":"benchmarks/spark-operator-benchmark","slug":"/benchmarks/spark-operator-benchmark/spark-operator-eks-benchmark","permalink":"/data-on-eks/docs/benchmarks/spark-operator-benchmark/spark-operator-eks-benchmark","draft":false,"unlisted":false,"editUrl":"https://github.com/awslabs/data-on-eks/blob/main/website/docs/benchmarks/spark-operator-benchmark/spark-operator-eks-benchmark.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"Introduction to Spark Benchmarks"},"sidebar":"benchmarks","previous":{"title":"Spark Benchmarks","permalink":"/data-on-eks/docs/category/spark-benchmarks"},"next":{"title":"Data Generation","permalink":"/data-on-eks/docs/benchmarks/spark-operator-benchmark/data-generation"}}'),s=a(85893),t=a(50065);let i={sidebar_position:1,sidebar_label:"Introduction to Spark Benchmarks"},o="Introduction to Spark Benchmarks on Amazon EKS \uD83D\uDE80",c={},l=[{value:"\uD83D\uDCCA TPC-DS Benchmark for Spark",id:"-tpc-ds-benchmark-for-spark",level:2},{value:"\u2728 Why We Need the Benchmark Tests",id:"-why-we-need-the-benchmark-tests",level:3},{value:"\uD83C\uDF81 What We Offer",id:"-what-we-offer",level:3},{value:"\uD83D\uDCB0 A Note on Cost",id:"-a-note-on-cost",level:3},{value:"\uD83D\uDD17 Additional Resources",id:"-additional-resources",level:2}];function d(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"introduction-to-spark-benchmarks-on-amazon-eks-",children:"Introduction to Spark Benchmarks on Amazon EKS \uD83D\uDE80"})}),"\n",(0,s.jsx)(n.p,{children:"This guide walks you through running Apache Spark benchmark tests on Amazon EKS, AWS's managed Kubernetes service. Benchmark tests help evaluate and optimize Spark workloads on EKS comparing benchmark results run across different EC2 instance families of Graviton instances, especially when scaling for performance, cost efficiency, and reliability.\nKey Features \uD83D\uDCC8"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Data Generation for the benchmark tests"}),"\n",(0,s.jsx)(n.li,{children:"Benchmark Test Execution on Different generation of Graviton Instances (r6g, r7g, r8g)"}),"\n",(0,s.jsx)(n.li,{children:"Benchmark Results"}),"\n",(0,s.jsx)(n.li,{children:"Customizable Benchmarks to suit your workloads"}),"\n",(0,s.jsx)(n.li,{children:"Autoscaling and Cost Optimization Strategies"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-tpc-ds-benchmark-for-spark",children:"\uD83D\uDCCA TPC-DS Benchmark for Spark"}),"\n",(0,s.jsx)(n.p,{children:"The TPC-DS benchmark is an industry-standard benchmark created by the Transaction Processing Performance Council (TPC) to evaluate the performance of decision support systems. It is widely used to assess the efficiency of SQL-based data processing engines in handling complex analytical queries. Databricks has optimized TPC-DS for Apache Spark, making it highly relevant for evaluating Spark workloads in cloud and on-premise environments."}),"\n",(0,s.jsx)(n.p,{children:"The TPC-DS benchmark tests cover a range of complex, data-intensive queries that simulate realistic decision support systems, making it ideal for assessing Spark's performance with structured and semi-structured data."}),"\n",(0,s.jsx)(n.p,{children:"\uD83D\uDCC8 Some Details on TPC-DS Benchmarks for Spark"}),"\n",(0,s.jsx)(n.p,{children:"The TPC-DS benchmark for Spark on Databricks includes the following features and considerations:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dataset Size: TPC-DS provides standardized datasets ranging from a few gigabytes to multiple terabytes, allowing users to test Spark's scalability."}),"\n",(0,s.jsx)(n.li,{children:"Query Suite: The benchmark includes 99 queries that simulate real-world decision support scenarios. These queries test Spark's ability to handle joins, aggregations, and complex nested queries efficiently."}),"\n",(0,s.jsx)(n.li,{children:"Optimization Techniques: Databricks has implemented various Spark-specific optimizations to improve TPC-DS query performance, such as Catalyst Optimizer, Adaptive Query Execution (AQE), and optimized shuffle operations."}),"\n",(0,s.jsx)(n.li,{children:"Execution Environment: The benchmark tests typically run in a distributed environment and cloud platform (such as Amazon EKS), leveraging optimized runtime for Apache Spark."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," The results of TPC-DS benchmarks on Spark can vary significantly depending on cluster configurations, instance types, and Spark settings."]}),"\n",(0,s.jsx)(n.h3,{id:"-why-we-need-the-benchmark-tests",children:"\u2728 Why We Need the Benchmark Tests"}),"\n",(0,s.jsx)(n.p,{children:"Benchmark tests are crucial for the following reasons:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Performance Evaluation: They provide an objective measure to evaluate and compare the speed, efficiency, and scalability of Spark engines on various cloud and hardware configurations."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Optimization Insights: By analyzing benchmark results, users can gain insights into specific areas where Spark might be optimized to handle large-scale, complex analytical queries."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Infrastructure Comparison: Running TPC-DS on Spark on Amazon EKS allows teams to make data-driven decisions on the best platforms for their data workloads."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Operational Readiness: Ensures that the Spark setup is ready to handle large datasets and complex analytical tasks, reducing risks in production environments."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-what-we-offer",children:"\uD83C\uDF81 What We Offer"}),"\n",(0,s.jsx)(n.p,{children:"With Data-on-EKS blueprints, we offer"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ready to be deployed Infrastructure-as-Code(Terraform) templates"}),"\n",(0,s.jsx)(n.li,{children:"Benchmark Test Data Generation Toolkit"}),"\n",(0,s.jsx)(n.li,{children:"Benchmark Execution Toolkit"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-a-note-on-cost",children:"\uD83D\uDCB0 A Note on Cost"}),"\n",(0,s.jsxs)(n.p,{children:["To minimize costs, we recommend terminating the ",(0,s.jsx)(n.code,{children:"C5d"})," instances once the benchmark data generation toolkit completes execution and the data has been successfully stored in the S3 bucket. This approach ensures that resources are only used when necessary, helping to keep expenses under control."]}),"\n",(0,s.jsx)(n.h2,{id:"-additional-resources",children:"\uD83D\uDD17 Additional Resources"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.tpc.org/tpcds/default5.asp",children:"TPCDS Specification"})})]})}function h(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},50065:function(e,n,a){a.d(n,{Z:()=>o,a:()=>i});var r=a(67294);let s={},t=r.createContext(s);function i(e){let n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);
---
sidebar_position: 1
sidebar_label: Spark 基准测试介绍
---

# Amazon EKS 上的 Spark 基准测试介绍 🚀

本指南将引导您在 Amazon EKS（AWS 的托管 Kubernetes 服务）上运行 Apache Spark 基准测试。基准测试有助于评估和优化 EKS 上的 Spark 工作负载，比较在不同 EC2 实例系列的 Graviton 实例上运行的基准测试结果，特别是在扩展性能、成本效率和可靠性时。

关键功能 📈

- 基准测试的数据生成
- 在不同代 Graviton 实例（r6g、r7g、r8g）上执行基准测试
- 基准测试结果
- 可定制的基准测试以适应您的工作负载
- 自动扩展和成本优化策略

## 📊 Spark 的 TPC-DS 基准测试

TPC-DS 基准测试是由事务处理性能委员会 (TPC) 创建的行业标准基准测试，用于评估决策支持系统的性能。它广泛用于评估基于 SQL 的数据处理引擎在处理复杂分析查询方面的效率。Databricks 已为 Apache Spark 优化了 TPC-DS，使其与在云和本地环境中评估 Spark 工作负载高度相关。

TPC-DS 基准测试涵盖了一系列复杂的数据密集型查询，模拟现实的决策支持系统，使其成为评估 Spark 处理结构化和半结构化数据性能的理想选择。

📈 Spark 的 TPC-DS 基准测试的一些详细信息

Databricks 上 Spark 的 TPC-DS 基准测试包括以下功能和考虑因素：

- 数据集大小：TPC-DS 提供从几 GB 到多 TB 的标准化数据集，允许用户测试 Spark 的可扩展性。
- 查询套件：基准测试包括 99 个查询，模拟现实世界的决策支持场景。这些查询测试 Spark 高效处理连接、聚合和复杂嵌套查询的能力。
- 优化技术：Databricks 已实施各种 Spark 特定的优化来改善 TPC-DS 查询性能，如 Catalyst 优化器、自适应查询执行 (AQE) 和优化的洗牌操作。
- 执行环境：基准测试通常在分布式环境和云平台（如 Amazon EKS）中运行，利用 Apache Spark 的优化运行时。

**注意：** Spark 上 TPC-DS 基准测试的结果可能因集群配置、实例类型和 Spark 设置而有很大差异。

### ✨ 为什么我们需要基准测试

基准测试对于以下原因至关重要：

- 性能评估：它们提供客观的衡量标准来评估和比较 Spark 引擎在各种云和硬件配置上的速度、效率和可扩展性。

- 优化见解：通过分析基准测试结果，用户可以深入了解 Spark 可能被优化以处理大规模、复杂分析查询的特定领域。

- 基础设施比较：在 Amazon EKS 上运行 Spark 的 TPC-DS 允许团队对其数据工作负载的最佳平台做出数据驱动的决策。

- 运营准备：确保 Spark 设置准备好处理大型数据集和复杂的分析任务，降低生产环境中的风险。

### 🎁 我们提供什么

通过 Data-on-EKS 蓝图，我们提供

- 即用型基础设施即代码 (Terraform) 模板
